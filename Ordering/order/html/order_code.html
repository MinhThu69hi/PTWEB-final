<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết Đơn hàng</title>
    <!-- ĐÃ SỬA: Đường dẫn CSS chính xác -->
    <link rel="stylesheet" href="../css/order_code.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="welcome-box">
                    Xin chào!<strong>Phuong</strong>
                </div>
                <nav class="sidebar-nav">
                    <a href="#" class="nav-item">
                        <span class="nav-icon-placeholder"></span>
                        <div class="nav-text">
                            <h4>Thông tin tài khoản <span class="notification-dot"></span></h4>
                            <p><span class="highlight">Cập nhật ngay!</span></p>
                            <p>Cập nhật thông tin tài khoản</p>
                        </div>
                    </a>
                    <!-- ĐÃ SỬA: Liên kết đến trang danh sách đơn hàng -->
                    <a href="../html/order.html" class="nav-item active">
                        <span class="nav-icon-placeholder"></span>
                        <div class="nav-text">
                            <h4>Đơn hàng <span class="notification-dot"></span><span class="status-tag-inline">Đang xử lý</span></h4>
                            <p>Tra cứu thông tin vận chuyển</p>
                        </div>
                    </a>
                    <a href="#" class="nav-item">
                        <span class="nav-icon-placeholder"></span>
                        <div class="nav-text">
                            <h4>Sổ địa chỉ</h4>
                            <p>Cập nhật địa chỉ giao hàng</p>
                        </div>
                    </a>
                </nav>
            </div>
            <a href="#" class="logout-link">
                <span class="nav-icon-placeholder"></span>
                <span>Đăng xuất</span>
            </a>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <button class="back-btn">Back</button>
            <div class="order-header">
                <h1>Mã đơn hàng: <strong>CNF1000108581</strong></h1>
                <span class="status-tag">Đang xử lý</span>
                <a href="#" class="copy-link">Copy</a>
            </div>
            <p class="order-date">Ngày mua hàng: 12/10/2025 - 11:37</p>

            <hr>

            <div class="info-section">
                <h4>Địa chỉ nhận hàng</h4>
                <p>T**************</p>
                <p>*********368</p>
                <p>***, ***, ***, Hà Nội</p>
            </div>

            <hr>

            <div class="products-section">
                <h4>Sản phẩm (1)</h4>
                <div class="product-item">
                    <!-- ĐÃ SỬA: Đường dẫn hình ảnh chính xác -->
                    <img src="../../images/products/menu khách lẻ/ít calo/L4.png" alt="Ức gà khoai tây" class="product-image">
                    <p class="product-name">Ức gà khoai tây</p>
                    <span class="product-quantity">x 1</span>
                    <div class="product-price">
                        <span class="discount-tag">-17%</span>
                        <s class="original-price">299.000 đ</s>
                        <span class="final-price">249.000 đ</span>
                    </div>
                </div>
            </div>

            <hr>
            
            <div class="summary-section">
                <div class="summary-row">
                    <span class="summary-label">Giá trị đơn hàng</span>
                    <span class="summary-value">299.000 đ</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Phí vận chuyển</span>
                    <span class="summary-value">20.000 đ</span>
                </div>
                <div class="summary-row total-row">
                    <div class="summary-label">
                        <strong>Tổng tiền thanh toán</strong>
                    </div>
                    <div class="summary-value">
                        <strong class="total-price">269.000 đ</strong>
                    </div>
                </div>
            </div>

            <div class="order-actions">
                <button class="cancel-button">Hủy đơn hàng</button>
            </div>
        </main>
    </div>

    <!-- === JAVASCRIPT === -->
    <!-- ĐÃ SỬA: Liên kết đến file JS ngoài -->
    <script src="../js/order_code.js"></script>
    
    <!-- Script nhỏ để sửa logic điều hướng của nút Hủy cho đúng cấu trúc file -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cancelButton = document.querySelector('.cancel-button');
            if (cancelButton) {
                // Ghi đè sự kiện click từ file ngoài để đảm bảo đúng đường dẫn
                cancelButton.addEventListener('click', function() {
                    const isConfirmed = confirm('Bạn có chắc chắn muốn hủy đơn hàng này không?');
                    if (isConfirmed) {
                        alert('Đã gửi yêu cầu hủy đơn hàng!');
                        // ĐÃ SỬA: Điều hướng chính xác đến trang hủy thành công
                        window.location.href = '../../cancellation/html/cancellation_successful.html';
                    }
                });
            }
        });
    </script>
</body>
</html>